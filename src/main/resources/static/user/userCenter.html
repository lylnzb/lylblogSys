<!DOCTYPE html>
<!-- saved from url=(0072)https://www.17sucai.com/preview/2137395/2020-07-07/templates/index.html# -->
<html lang="en" xmlns:th="http://www.thymeleaf.org"
                xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人中心 -羅氏博客</title>
    <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../common/semantic-ui/dist/semantic.min.css">
    <link rel="stylesheet" href="../common/css/style.css">
    <link rel="stylesheet" href="../common/css/tx.css">
    <link rel="stylesheet" href="../common/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../common/css/index.css">
    <link rel="stylesheet" href="../common/layui/css/layui.css">
    <link rel="stylesheet" href="../common/css/mplayer.css">
    <link href="../include/css/cropper.min.css" rel="stylesheet">
    <link href="../include/css/sitelogo.css" rel="stylesheet">
    <link rel="stylesheet" href="/login/css/login.css">
    <link rel="stylesheet" href="/user/css/msgList.css">
    <link rel="stylesheet" href="/user/css/usrCenter.css">
    <link rel="stylesheet" href="../include/css/addNewCollection.css">
    <link rel="stylesheet" href="../include/css/friendLinkApply.css">
    <link rel="stylesheet" href="../include/css/uploadIcon.css">
</head>
<body>

<!-- 遮盖层 -->
<div id="bg" class="bg"></div>

<!--音乐-->
<div id="music">
    <div th:replace="include/music :: myMusic"></div>
</div>

<!--导航-->
<div id="header">
    <div th:replace="include/header :: myHeader"></div>
</div>

<!--友链更新-->
<div id="friendLinkApply" shiro:authenticated="">
    <div th:replace="include/friendLinkApply :: myFriendLinkApply"></div>
</div>

<!--头像上传-->
<div id="upload">
    <div th:replace="include/uploadIcon :: uploadIcon"></div>
</div>

<!--收藏-->
<div id="collection">
    <div th:replace="include/addNewCollection :: addCollection"></div>
</div>

<!--中间-->
<div id="main">
    <div class="m-padded-tb-max">
        <div class="ui container">
            <div class="ui stackable grid">
                <!--右边-->
                <div class="four wide column">
                    <div class="ui" style="border-radius:5px 0;">
                        <section class="sidebar_widget widget_post_author">
                            <section class="author_info">
                                <div class="widget_avatar_head">
                                    <img class="head_portrait" th:src="@{${icon}}" alt="回忆里依稀">
                                    <div class="avatar-hover">
                                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFC0lEQVR4Xu2ba8ilUxTHf39J5H6NQiQSii80bjENNeEDmtw1Jb64jhqF1AwJZcow+EJqmnJLzIeZmkJoxMQXComkjCL3cckk+WvpOdM++33OOc9znufMeY9zVp0v77P22mv991prr7X3fsWUk6bcfmYAzDxgyhGYhcCUO8DOTYK2d6kCuKR/qvC1wTPSELB9CHAVcA5wGLBrRaX/Br4B3gKelfRdxXG12UYGgO3TgQeAvWtr1T3gN+BuSe82lFM6fCQA2D4eeBrYvSWltwPXS/q0JXk7xLQOgO3dwm2Bo1pW9kvgakl/tSl3FAAsA67JlHwKeB4Id65CETZXADdkzOskPVpFQFWeVgGwfXLh+qncjZJWVFUo5bN9H3BB8jcXofDhMPLKxrQGgO2I9+eAI5KJvgcuk1R15bt0tB2e8CJwcPJhK3ClpMgLjakyAIWBC4ATC4X2zGaPLS++pXSrpHeaaGn7TCB3+4+BfGv8AwjA49uWqgANBMD2PsB1wJKaWX29pPubGN8Za/se4OIassI7XgKekfRrv3F9AShi+mHggBqTB+u3wOWSYlUak+3wtheAQ2sK+wm4Q1LPnNETANvh7qtrVG8d3QL9myV9UFPZvuy2TwEer+mFITOqymWStlROgrYjka0D9soG/Qi8CnwBlK1uTPbRqErXorQ+qceihJccA5wPHJjp/TtwraRIoF1U6gG2HwHOzng3AKskhbB5S7Zj0ZYDF2VKbpZ0+0AAbEcmX5sxRjJ5ct5aXaKY7RuL5J1+XSopdokdNMcDbN8W7pLwfF64T7j3xJDt6DwjjI9NlJ5TSZYBEHX8ccmguyRF3E8c2Y588GCi+GeSoj3v6wGvA/smPIsl/dCG9cWqnAvE74SkwosC5hPgzfhJasXbbB8EbEp03yZpUU8AbIdHvJ8Zu6ANhWwvBCK8Dh8A5tdR+Ul6oynoBeD59neqpOgp/qOuECiOrN7LJj6tyRFVIfOWLK9UsS3id00Lc/e1Z2cAkCfVKsZ3eBq1v1UWdKQAFG4fpXROUVOsB+KQI+jootbP9+74FqXsUOEwVgCK+IuGJI35n4EVvTpE22cA9wL7J4hFTlgyTB4aNwDnAQ9lSz+wPS5AeCwbd6ek1+rETvCOG4BohRcnSm+QtLKKEbaDLw2HTZKiJa5F4wbgZeDIROM41a3UIRadX5wqd+grSZfWsn4eeMBmYI9E6UWStlUxwnYUYlGQdehPSXlzNlDUuD1g6gGY+hCY+iQ49dtg9OPTWwgVhUh0gNNZCnf2qJITpoHbV8Iw2c1QUo5ObzuceMI4DkTiSc54zwNSfx/Dkdj8AqBO8LfBO9ZSuA0DmsqoDUCRtN7O7t8WDnu/39SApuOL9wXpadJ2SWelcsvuBV7JHjlUbmObKtz2+JK2equkSwYBkNfwQz9xaduguvJsx/Hahcm4OQcrZR5QVsPH9XKExsSQ7XD1uN5Pac7RWhkAZTX8L8DKSQGhMD6O1fZLrC89XO11PR5XV6tKlnsjEDmi1/uAcXpI531AxHjq9h2dlkuKq7cu6vdCJMrXpeO0qMW510paUyavHwBRRd30PwAh3jo80euKrcorsQiHeP056FKzxQVrRVTE/Ooyt++7DZZNndXwnXeCbT2EbsVaIB5ndd4JVr5mH+gBvbSr+s8PbVk3SM6wt8hDAzBIoUn5PgNgUlZqVHrOPGBUyE6K3JkHTMpKjUrPfwGerYtf3LH0qAAAAABJRU5ErkJggg==">
                                    </div>
                                </div>
                                <h3 style="margin-top: 13px;font-weight: bold"><label th:text="${nickName}">回忆里依稀</label></h3>
                                <div style="margin-top: -8px;color: #808080;"><label th:text="${sex}">男</label>&nbsp;|&nbsp;<label th:text="${roleName}">注册用户</label></div>
                                <div class="zw" style="background-color: aquamarine;color: white;" onclick="switchTab(this, 'myProfileTab')">个人资料</div>
                                <div class="zw" style="margin-top: -3px;" onclick="loginOut();">退出登录</div>
                            </section>
                        </section>
                    </div>
                    <div class="ui" style="border-radius:5px 0;">
                        <section class="sidebar_widget widget_post_author">
                            <div class="ui borderless secondary vertical pointing menu" style="width: 100%">
                                <a class="teal item active" onclick="switchTab(this, 'myAccountTab', 1)">
                                    <span style="font-weight: bold"><i class="edit icon"></i>我的账号</span>
                                </a>
                                <a class="teal item" onclick="switchTab(this, 'accountSetTab', 1)">
                                    <span style="font-weight: bold"><i class="cogs icon"></i>账号设置</span>
                                </a>
                            </div>
                        </section>
                    </div>
                    <div class="ui" style="border-radius:5px 0;">
                        <section class="sidebar_widget widget_post_author">
                            <div class="ui borderless secondary vertical pointing menu" style="width: 100%">
                                <a class="teal item" onclick="switchTab(this, 'systemMessageTab', 1)">
                                    <span style="font-weight: bold"><i class="envelope open outline icon"></i>系统消息</span>
                                </a>
                                <a class="teal item" onclick="switchTab(this, 'myCommentsTab', 1)">
                                    <span style="font-weight: bold"><i class="comments outline icon"></i>我的评论</span>
                                </a>
                                <a class="teal item" onclick="switchTab(this, 'myCollectionTab', 1)">
                                    <span style="font-weight: bold"><i class="folder open outline icon"></i>我的收藏</span>
                                </a>
                                <a class="teal item" onclick="switchTab(this, 'myLinksTab', 1)">
                                    <span style="font-weight: bold"><i class="share alternate icon"></i>我的友链申请</span>
                                </a>
                            </div>
                        </section>
                    </div>
                </div>
                <!--左边-->
                <div class="twelve wide column">
                    <!-- 我的账号 -->
                    <div class="ui top segment" data-id="myAccountTab" style="width: 820px;margin-top: 0;">
                        <div class="pageWrapper">
                            <div class="pc-ucenter-top">
                                <div class="mod-ucenter-score" th:classappend="${num == 45?'mod-center-verify-60':(num == 80?'mod-center-verify-80':'')}">
                                    <div class="mod-ucenter-score-main">
                                        <p class="mod-ucenter-score-number" th:text="${num}">45</p>
                                        <div class="mod-ucenter-score-desc">
                                            <ul class="mod-ucenter-score-star clearfix" th:if="${num == 45}">
                                                <li class="starhight"></li>
                                                <li></li>
                                                <li></li>
                                                <li></li>
                                            </ul>
                                            <ul class="mod-ucenter-score-star clearfix" th:if="${num == 80}">
                                                <li class="starhight"></li>
                                                <li class="starhight"></li>
                                                <li class="starhight"></li>
                                                <li></li>
                                            </ul>
                                            <ul class="mod-ucenter-score-star clearfix" th:if="${num == 100}">
                                                <li class="starhight"></li>
                                                <li class="starhight"></li>
                                                <li class="starhight"></li>
                                                <li class="starhight"></li>
                                            </ul>
                                            <ul class="mod-ucenter-score-star clearfix" th:if="${num == 0}">
                                                <li></li>
                                                <li></li>
                                                <li></li>
                                                <li></li>
                                            </ul>
                                            <p th:if="${num == 45 || num == 0}">帐号存在重大风险，请立即完善信息</p>
                                            <p th:if="${num == 80}">帐号安全状况较好，请继续完善</p>
                                            <p th:if="${num == 100}">帐号安全状况已完善</p>
                                        </div>
                                    </div>
                                    <div id="score-btn" class="mod-ucenter-score-btn" onclick="switchTab(this, 'accountSetTab', 2)">
                                        账号设置
                                    </div>
                                </div>
                                <div class="ucenter-list">
                                    <ul style="margin: 0;padding: 0;">
                                        <li class="ucenter-list-li" th:classappend="${isbindingEmail == true?'open':''}" onclick="switchTab(this, 'bindingEmailTab', 2)">
                                            <div class="title">
                                                我的绑定邮箱
                                                <span class="icon"></span>
                                            </div>
                                            <div class="content" th:text="${isbindingEmail == false?'建议绑定常用邮箱，防止防盗。。':'已绑定常用邮箱，账号安全保障中。。'}"></div>
                                            <div class="link" th:if="${isbindingEmail == true}">
                                                去更换
                                                <span class="lefticon"></span>
                                            </div>
                                            <div class="link" th:if="${isbindingEmail == false}">
                                                去绑定
                                                <span class="lefticon"></span>
                                            </div>
                                        </li>
                                        <li class="ucenter-list-li" th:classappend="${isSetupPwd == true?'open':''}" onclick="switchTab(this, 'updatePwdTab', 2)">
                                            <div class="title">
                                                我的账号密码
                                                <span class="icon"></span>
                                            </div>
                                            <div class="content" th:text="${isSetupPwd == false?'建议设置密码，保护账号安全。。':'密码已设置，帐号安全保障中。。'}"></div>
                                            <div class="link" th:if="${isSetupPwd == true}">
                                                已设置
                                                <span class="lefticon"></span>
                                            </div>
                                            <div class="link" th:if="${isSetupPwd == false}">
                                                去设置
                                                <span class="lefticon"></span>
                                            </div>
                                        </li>
                                        <li class="ucenter-list-li" onclick="switchTab(this, 'accountAssociatedTab', 2)">
                                            <div class="title">
                                                第三方账号
                                                <span class="icon"></span>
                                            </div>
                                            <div class="content">绑定第三方账号，方便安全登录。。</div>
                                            <div class="link">
                                                去绑定
                                                <span class="lefticon"></span>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="ucenter-table"></div>
                        </div>
                    </div>
                    <!-- 登录记录-->
                    <div class="ui top segment" data-id="myAccountTab" style="width: 820px;margin-top: 0;">
                        <div class="pageWrapper">
                            <div class="ucenter-table">
                                <div class="ucenter-table-top">
                                    <div class="loginRecord active" style="font-weight: bold">登录记录</div>
                                </div>
                                <div class="ucenter-table-bottom">
                                    <div class="table-wrapper smalltable-wrapper" style="border: none">
                                        <table class="manage-table small">
                                            <thead>
                                                <tr>
                                                    <th style="width: auto;">登录方式</th>
                                                    <th style="width: auto;">登录地址</th>
                                                    <th style="width: auto;">系统</th>
                                                    <th style="width: auto;">登录时间</th>
                                                </tr>
                                            </thead>
                                            <tbody id="userLoginRecordByFive"></tbody>
                                        </table>
                                    </div>
                                    <div class="lookAll" onclick="switchTab(this, 'loginRecordTab', 2)">
                                        查看全部
                                        <span class="lefticon"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 个人动态 -->
                    <div class="ui top segment" data-id="myAccountTab" style="width: 820px;margin-top: 0;">
                        <div class="ui secondary pointing menu">
                            <a class="item active" data-tab="tab-name1">个人动态</a>
                        </div>
                        <div class="ui tab active" data-tab="tab-name1">
                            <div class="main">
                                <ul class="flow-default" id="acitve" style="margin-top: -14px;"></ul>
                            </div>
                        </div>
                    </div>
                    <!-- 系统消息 -->
                    <div class="ui top segment" data-id="systemMessageTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="ui secondary pointing menu">
                            <a class="item active" data-tab="tab-name2">系统消息</a>
                        </div>
                        <div class="ui tab active" data-tab="tab-name2">
                            <div class="main">
                                <div class="my_msg_list">
                                <div class="my_msg_list_view">
                                    <div class="my_msg_list_box">
                                        <div class="my_msg_list_con">
                                            <div class="my_msg_list_title" >
                                                <button class="ui primary button" style="float: left;margin-bottom: 5px;">
                                                    全部标记为已读
                                                </button>
                                                <div class="ui basic buttons" style="float: right;margin-bottom: 5px;">
                                                    <button class="ui button active">全部</button>
                                                    <button class="ui button">未读</button>
                                                    <button class="ui button">已读</button>
                                                </div>
                                            </div>
                                            <hr color="#f4f4f4" style="margin: 1% auto;">
                                            <div class="msg_list"><!---->
                                                <ul class="msg_list_ul">
                                                    <li class="msg_list_ul_li">
                                                        <span class="recommend-flag" style="margin-left: 8px;">系统</span>
                                                        <span class="msg_info_box">
                                                                <span class="msg_title">测试第一个消息婚这件小事</span>
                                                            </span>
                                                        <div class="fr options_info options-f">
                                                            <a class="btn-rush csdnc-trash" style="float: right;">
                                                                <i class="trash alternate icon"></i>
                                                            </a>
                                                            <em class="data-time" style="float: right;">2019-03-28</em>
                                                        </div>
                                                        <div class="msg_content ">第一个测试发送消息的内容</div>
                                                    </li>
                                                    <li class="msg_list_ul_li">
                                                        <span class="recommend-flag" style="margin-left: 8px;">系统</span>
                                                        <span class="msg_info_box">
                                                                <span class="msg_title">第一个测试发送消息的内容，社区守则</span>
                                                            </span>
                                                        <div class="fr options_info options-f">
                                                            <a class="btn-rush csdnc-trash" style="float: right;">
                                                                <i class="trash alternate icon"></i>
                                                            </a>
                                                            <em class="data-time" style="float: right;">2019-03-28</em>
                                                        </div>
                                                        <div class="msg_content ">第一个测试发送消息的内容</div>
                                                    </li>
                                                    <li class="msg_list_ul_li">
                                                        <span class="recommend-flag" style="margin-left: 8px;">系统</span>
                                                        <span class="msg_info_box">
                                                                <span class="msg_title">测试第二个消息</span>
                                                            </span>
                                                        <div class="fr options_info options-f">
                                                            <a class="btn-rush csdnc-trash" style="float: right;">
                                                                <i class="trash alternate icon"></i>
                                                            </a>
                                                            <em class="data-time" style="float: right;">2019-03-28</em>
                                                        </div>
                                                        <div class="msg_content ">第三个测试发送消息的内容，大声说出你们的爱</div>
                                                    </li>
                                                </ul>
                                                <div id="noNotice" style="text-align: center; font-weight: bolder;display: none">无通知</div>
                                            </div>
                                            <div class="page-box">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                    <!-- 账号设置 -->
                    <div class="ui top segment" data-id="accountSetTab" style="width: 820px;min-height: 540px;margin-top: 0;display: none">
                        <div class="ui secondary pointing menu">
                            <a class="item active" data-tab="tab-name4">账号设置</a>
                        </div>
                        <div class="ui tab active" data-tab="tab-name4">
                            <div class="main">
                                <ul>
                                    <li class="accout-body-item">
                                        <span>
                                            <span>密</span>
                                            <span>码</span>
                                        </span>
                                        <p><a onclick="switchTab(this, 'updatePwdTab', 2)">修改密码</a></p>
                                    </li>
                                    <li class="accout-body-item">
                                        <span>
                                            <span>邮</span>
                                            <span>箱</span>
                                        </span>
                                        <p>
                                            <span class="accout-error" th:text="${isbindingEmail == true?email:'存在风险，请绑定邮箱'}"></span>
                                            <a th:text="${isbindingEmail == true?'修改邮箱':'绑定邮箱'}" onclick="switchTab(this, 'bindingEmailTab', 2)">绑定邮箱</a>
                                        </p>
                                    </li>
                                    <li class="accout-body-item">
                                        <span>三方账号</span>
                                        <p>
                                            <span class="accout-error"></span>
                                            <a onclick="switchTab(this, 'accountAssociatedTab', 2)">立即设置</a>
                                        </p>
                                    </li>
                                    <li class="accout-body-item">
                                        <span>登录记录</span>
                                        <p>
                                            <a onclick="switchTab(this, 'loginRecordTab', 2)">查看记录</a>
                                        </p>
                                    </li>
                                    <li class="accout-body-item">
                                        <span>账号注销</span>
                                        <p>
                                            <a>立即注销</a>
                                        </p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- 我的评论 -->
                    <div class="ui top segment" data-id="myCommentsTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="ui secondary pointing menu">
                            <a class="item active" data-tab="tab-name4">我的评论</a>
                        </div>
                        <div class="ui tab active" data-tab="tab-name4">
                            <div class="msg-list">
                                <ul class="commentList"></ul>
                                <div id="commentPage" style="text-align: right;"></div>
                            </div>
                        </div>
                    </div>
                    <!-- 我的收藏 -->
                    <div class="ui top segment" data-id="myCollectionTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="ui secondary pointing menu">
                            <a class="item active" data-tab="tab-name5">我的收藏</a>
                        </div>
                        <div class="ui tab active" data-tab="tab-name5">
                            <div class="collection-left-tab">
                                <div class="ultab-sub-menu"></div>
                            </div>
                            <div class="collection-content">
                                <div>
                                    <div class="list-wrap"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 我的友链申请 -->
                    <div class="ui top segment" data-id="myLinksTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="ui secondary pointing menu">
                            <a class="item active" data-tab="tab-name3">我的友链申请</a>
                        </div>
                        <div class="ui tab active" data-tab="tab-name3">
                            <div class="main">
                                <div class="ui basic buttons" style="float: right;margin-bottom: 10px;">
                                    <button data-id="" class="ui button active">全部</button>
                                    <button data-id="0" class="ui button">待审核</button>
                                    <button data-id="2" class="ui button">未通过</button>
                                    <button data-id="1" class="ui button">已通过</button>
                                </div>
                                <hr color="#f4f4f4" style="margin: 1% auto;">
                                <div id="noLinks" style="text-align: center; font-weight: bolder;">您还没有申请过友链</div>
                                <table id="linkTable" class="ui celled striped selectable teal five column table" style="text-align: center;display: none">
                                    <thead>
                                    <tr>
                                        <th>友链名称</th>
                                        <th>友链网址</th>
                                        <th>审核状态</th>
                                        <th>反馈信息</th>
                                        <th>操作</th>
                                    </tr>
                                    </thead>
                                    <tbody class="linkList">
                                    <tr>
                                        <td style="width: 250px">张三</td>
                                        <td>男</td>
                                        <td>待审核</td>
                                        <td>菜市场上厕所菜市场上厕所菜市场上厕所菜市场上厕所</td>
                                        <td><a class="btn btn-success btn-xs"><i class="fa fa-edit"></i> 更新友链</a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- 个人资料 -->
                    <div class="ui top segment" data-id="myProfileTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="ui secondary pointing menu">
                            <a class="item active" data-tab="dataTab">个人资料</a>
                        </div>
                        <div class="ui tab active" data-tab="dataTab">
                            <div class="main dataList" >
                                <ul class="data-ul">
                                    <li class="data-li">
                                        <div class="content-show-l">用户昵称</div>
                                        <div class="content-show-r nickname"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">真实姓名</div>
                                        <div class="content-show-r realName"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">
                                            <span>性</span>
                                            <span>别</span>
                                        </div>
                                        <div class="content-show-r sex"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">所在地区</div>
                                        <div class="content-show-r area"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">出生日期</div>
                                        <div class="content-show-r birthday"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">开始工作</div>
                                        <div class="content-show-r workTime"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">
                                            <span>职</span>
                                            <span>业</span>
                                        </div>
                                        <div class="content-show-r professional"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">
                                            <span>公</span>
                                            <span>司</span>
                                        </div>
                                        <div class="content-show-r company"></div>
                                    </li>
                                    <li class="data-li">
                                        <div class="content-show-l">个性签名</div>
                                        <div class="content-show-r signature"></div>
                                    </li>
                                </ul>
                                <div class="edit-icon"><i class="edit icon"></i>编辑</div>
                            </div>
                            <div class="main editUser" style="display: none">
                                <form class="ui form layui-form" id="editUserForm" autocomplete="off">
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right"><font color='red'>*</font>&nbsp;用户昵称：</label>
                                        <div class="field">
                                            <input type="text" class="nickname required" id="nickname" placeholder="请输入昵称" style="width: 615px;">
                                        </div>
                                    </div>
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right">真实姓名：</label>
                                        <div class="field">
                                            <input type="text" class="realName required" id="realName" placeholder="请输入姓名" style="width: 615px;">
                                        </div>
                                    </div>
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right">性别：</label>
                                        <div class="field">
                                            <input name="sex" value="0" type="radio" style="display: none" title="男" checked="">
                                            <input name="sex" value="1" type="radio" style="display: none" title="女">
                                        </div>
                                    </div>
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right">所属地区：</label>
                                        <div class="field">
                                            <div class="ui selection dropdown" style="width: 95px">
                                                <input type="hidden" name="gender" id="provinceInput">
                                                <i class="dropdown icon"></i>
                                                <div class="default text" id="provinceText">选择省份</div>
                                                <div class="menu" id="province"></div>
                                            </div>
                                        </div>
                                        <div class="field">
                                            <div class="ui selection dropdown" style="width: 95px">
                                                <input type="hidden" name="gender" id="cityInput">
                                                <i class="dropdown icon"></i>
                                                <div class="default text" id="cityText">选择市州</div>
                                                <div class="menu" id="city"></div>
                                            </div>
                                        </div>
                                        <div class="field">
                                            <div class="ui selection dropdown" style="width: 95px">
                                                <input type="hidden" name="gender" id="areaInput">
                                                <i class="dropdown icon"></i>
                                                <div class="default text" id="areaText">选择区县</div>
                                                <div class="menu" id="area"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right">出生日期：</label>
                                        <div class="field">
                                            <input type="text" class="birthday required" id="birthday" placeholder="请输入出生日期" style="width: 615px;">
                                        </div>
                                    </div>
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right">所属职业：</label>
                                        <div class="field">
                                            <input type="text" class="professional required" id="professional" placeholder="请填写 例如：java开发工程师" style="width: 615px;">
                                        </div>
                                    </div>
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right">所在公司：</label>
                                        <div class="field">
                                            <input type="text" class="company required" id="company" placeholder="请输入当前所在公司" style="width: 615px;">
                                        </div>
                                    </div>
                                    <div class="inline fields">
                                        <label style="width: 120px;font-weight: bold;text-align: right">开始工作时间：</label>
                                        <div class="field">
                                            <input type="text" class="workTime required" id="workTime" placeholder="请输入开始工作时间" style="width: 615px;">
                                        </div>
                                    </div>
                                    <div class="inline fields" style="align-items: end;">
                                        <label style="width: 120px;font-weight: bold;text-align: right">个性签名：</label>
                                        <div class="field">
                                            <textarea class="signature required" id="signature" placeholder="你很懒，还没有添加个性签名" style="width: 615px;"></textarea>
                                        </div>
                                    </div>
                                </form>
                                <div style="text-align: center">
                                    <button class="ui primary button" id="save">保存</button>
                                    <button class="ui button" id="cancel">取消</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 修改密码 -->
                    <div class="ui top segment" data-id="updatePwdTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="user-center-bread">
                            <span onclick="switchTab(this, 'accountSetTab', 2)">账号设置</span><em>/</em><span>修改密码</span>
                        </div>
                        <div class="acc_pass_con">
                            <div class="ui small form" id="updatePwdForm" style="margin-left: 15px;">
                                <div class="inline field">
                                    <label>输入旧密码：</label>
                                    <input id="oldPwd" class="oldPwd required" placeholder="请输入旧密码" type="password" style="width: 280px;">
                                    <span class="help-block m-b-none error" style="margin-left: 5px;color: red;display: none"></span>
                                </div>
                                <div class="inline field">
                                    <label>输入新密码：</label>
                                    <input id="newPwd" class="newPwd required" placeholder="8~20位字母和数字组合" type="password" style="width: 280px;">
                                    <span class="help-block m-b-none error" style="margin-left: 5px;color: red;display: none"></span>
                                </div>
                                <div class="inline field">
                                    <label>确认新密码：</label>
                                    <input id="confirmNewPwd" class="confirmNewPwd required" placeholder="请确认新密码" type="password" style="width: 280px;">
                                    <span class="help-block m-b-none error" style="margin-left: 5px;color: red;display: none"></span>
                                </div>
                                <div class="confirmBtn" style="margin-left: 117px;">
                                    <button class="ui primary button" id="updatePwd">
                                        确认
                                    </button>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- 绑定邮箱 -->
                    <div class="ui top segment" data-id="bindingEmailTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="user-center-bread">
                            <span onclick="switchTab(this, 'accountSetTab', 2)">账号设置</span><em>/</em><span>绑定邮箱</span>
                        </div>
                        <div class="acc_pass_con">
                            <div class="ui small form" id="bindingEmailForm" style="margin-left: 15px;">
                                <div class="inline field">
                                    <label>输入新邮箱：</label>
                                    <input id="newEmail" class="newEmail required" placeholder="请输入新邮箱" type="text" style="width: 280px;">
                                    <span class="help-block m-b-none error" style="margin-left: 5px;color: red;display: none"></span>
                                </div>
                                <div class="inline field">
                                    <label>填写验证码：</label>
                                    <div class="ui right labeled input">
                                        <input type="text" id="emailCode" class="emailCode required" placeholder="请输入邮箱验证码" style="width: 171px">
                                        <div class="ui basic label" id="getCode" style="color: darkgray;">
                                            获取验证码
                                        </div>
                                    </div>
                                    <span class="help-block m-b-none error" style="margin-left: 5px;color: red;"></span>
                                </div>
                                <div class="confirmBtn" style="margin-left: 117px;">
                                    <button class="ui primary button" id="bindBtn">
                                        绑定
                                    </button>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- 帐号关联 -->
                    <div class="ui top segment" data-id="accountAssociatedTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="user-center-bread">
                            <span onclick="switchTab(this, 'accountSetTab', 2)">账号设置</span><em>/</em><span>帐号关联</span>
                        </div>
                        <div class="acc_pass_con">
                            <ul class="bind_list">
                                <li class="item_cont">
                                    <span class="wxIcon"><i class="wechat icon"></i></span>
                                    <span class="method_name">微信</span>
                                    <span class="user_name">誓言</span>
                                    <a class="handle_text remove_text">解绑</a>
                                </li>
                                <li class="item_cont">
                                    <span class="qqIcon"><i class="qq icon"></i></span>
                                    <span class="method_name">QQ</span>
                                    <a class="handle_text">解绑</a>
                                </li>
                                <li class="item_cont">
                                    <span class="weiboIcon"><i class="weibo icon"></i></span>
                                    <span class="method_name">微博</span>
                                    <a class="handle_text">解绑</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- 登录记录 -->
                    <div class="ui top segment" data-id="loginRecordTab" style="width: 820px;min-height: 600px;margin-top: 0;display: none">
                        <div class="user-center-bread">
                            <span onclick="switchTab(this, 'accountSetTab', 2)">账号设置</span><em>/</em><span>登录记录</span>
                        </div>
                        <div class="acc_pass_con">
                            <table class="ui celled striped selectable teal four column table" style="text-align: center;">
                                <thead>
                                <tr>
                                    <th>登录方式</th>
                                    <th>登录地址</th>
                                    <th>系统</th>
                                    <th>登录时间</th>
                                </tr>
                                </thead>
                                <tbody id="loginRecord"></tbody>
                            </table>
                            <div id="loginRecordPage" style="text-align: right;"></div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--底部-->
<div id="footer">
    <div th:replace="include/footer :: myFooter"></div>
</div>
</body>
<script src="../common/jquery/jquery-1.11.1.js"></script>
<script src="../common/coco-message.js"></script>
<script src="../common/util.js"></script>
<script src='../common/snowflakes.min.js'></script>
<script src="../common/layui/layui.all.js"></script>
<script src="../common/mPlayer/mplayer.js"></script>
<script src="../common/mPlayer/mplayer-list.js"></script>
<script src="../common/mPlayer/mplayer-functions.js"></script>
<script src="http://cdn.bootcss.com/jquery-nstslider/1.0.13/jquery.nstSlider.min.js"></script>
<script src="../common/player.js"></script>
<script src="../common/message.js"></script>
<script src="../admin/js/bstable/js/bootstrap.min.js"></script>
<script src="../include/js/sitelogo.js"></script>
<script src="../common/semantic-ui/dist/semantic.min.js"></script>
<script src="../include/js/cropper.js"></script>
<script src="../include/js/html2canvas.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../include/js/uploadIcon.js"></script>
<script src="../include/js/addNewCollection.js"></script>
<script src="../login/js/login.js"></script>
<script src="../links/js/friendLink.js"></script>
<script src="/user/js/userCenter.js"></script>

<script>
    var config = {};

    layui.use(['laypage', 'layer', 'upload'], function() {
        var $ = layui.jquery, laypage = layui.laypage;

        //初始化个人中心首页登录记录数据
        initUserLoginRecord();
        //登录记录查看
        userLoginRecordByPage(1, 10);
        //初始化省份下拉框
        getProvince();
        //个人动态信息查询
        queryDynamicInfo(1, 5);

        $(".ui.button").click(function(){
            $(".ui.button.active").removeClass("blue");
            $(".ui.button.active").removeClass("active");
            $(this).addClass("blue");
            $(this).addClass("active");
            queryMyLinks($(this).attr("data-id"));
        });

        //开启HASH
        laypage.render({
            elem: 'loginRecordPage'
            ,count: 500
            ,curr: location.hash.replace('#!fenye=', '') //获取hash值为fenye的当前页
            ,hash: 'fenye' //自定义hash值
        });
    });

    /**
     * tab切换
     * @param elem
     * @param tabName
     * @param number
     */
    function switchTab(elem, tabName, number){
        if(tabName == 'myAccountTab') {
            queryDynamicInfo(1, 5);
        }else if(tabName == 'accountAssociatedTab'){
            cocoMessage.warning("该功能正在开发中。。。", 3000); //loading可以选择是否展示关闭按钮
            return;
        }else if(tabName == 'myCommentsTab') {
            queryMyCommentList(1, 5);
        }else if(tabName == 'myLinksTab') {
            queryMyLinks("");
        }else if(tabName == 'myProfileTab') {
            $(".editUser").hide();
            $(".dataList").show();
            queryPersonalData();
        }else if(tabName == 'myCollectionTab') {
            initCollection()
        }

        if(number == 1){
            $(".teal.item.active").removeClass("active");
            $(elem).addClass("active");
        }else {
            $(".teal.item").each(function (index) {
                if(index == number){
                    $(".teal.item.active").removeClass("active");
                    $(this).addClass("active");
                }
            });
        }
        $(".ui.top.segment").each(function (){
            var dataId = $(this).attr("data-id");
            if(tabName == dataId){
                $(this).show();
            }else {
                $(this).hide();
            }
        });
    }

    /**
     * 初始化个人中心首页登录记录数据
     */
    function initUserLoginRecord(){
        var paramData = new Object();
        paramData.page = 1;
        paramData.limit = 3;
        $.ajax({
            url: basePath + '/user/queryLoginRecord',
            type: "POST",
            data: JSON.stringify(paramData),
            contentType: 'application/json;charset=utf-8',
            success: function (resultData) {
                console.log(resultData);
                var htmlStr = "";
                if(resultData.code == 0){
                    for(var i = 0;i < resultData.data.length;i++){
                        htmlStr += '<tr>';
                        htmlStr += '    <td><span>' + resultData.data[i].loginWay + '</span></td>';
                        htmlStr += '    <td><span>' + resultData.data[i].address + '</span></td>';
                        htmlStr += '    <td><span>' + resultData.data[i].loginSystem + '</span></td>';
                        htmlStr += '    <td><span>' + resultData.data[i].loginTime + '</span></td>';
                        htmlStr += '</tr>';
                    }
                    $("#userLoginRecordByFive").html(htmlStr);
                }

            },
            error: function () {

            }
        });
    }

    /**
     * 用户登录记录所有记录查询
     * @param page
     * @param limit
     */
    function userLoginRecordByPage(page, limit) {
        var paramData = new Object();
        paramData.page = page;
        paramData.limit = limit;
        $.ajax({
            url: basePath + '/user/queryLoginRecord',
            type: "POST",
            asyns:false,
            data: JSON.stringify(paramData),
            contentType: 'application/json;charset=utf-8',
            success: function (resultData) {
                console.log(resultData);
                var htmlStr = "";
                if(resultData.code == 0){
                    var data = resultData.data;
                    layui.use(['laypage', 'layer'], function () {
                        var page = layui.laypage;
                        page.render({
                            elem: 'loginRecordPage',
                            count: resultData.count,
                            curr: paramData.page,
                            limit: paramData.limit,
                            jump: function (obj, first) {
                                if (!first) {
                                    userLoginRecordByPage(obj.curr, obj.limit)
                                }
                            }
                        });
                        for(var i = 0;i < data.length;i++){
                            htmlStr += '<tr>';
                            htmlStr += '    <td style="width: 250px">' + data[i].loginWay + '</td>';
                            htmlStr += '    <td>' + data[i].address + '</td>';
                            htmlStr += '    <td>' + data[i].loginSystem + '</td>';
                            htmlStr += '    <td>' + data[i].loginTime + '</td>';
                            htmlStr += '</tr>';
                        }
                        $("#loginRecord").html(htmlStr);
                    });
                }

            },
            error: function () {

            }
        });
    }
</script>
</html>

